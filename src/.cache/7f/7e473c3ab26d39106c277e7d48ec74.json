{"id":"TwitchCountNav.ts","dependencies":[{"name":"D:\\Dev\\cnc.community\\GitHub\\cnc.community\\src\\package.json","includedInParent":true,"mtime":1589122128031},{"name":"./twitch/src/Twitch/GetStreamCount","loc":{"line":3,"column":31},"parent":"D:\\Dev\\cnc.community\\GitHub\\cnc.community\\src\\resources\\typescript\\TwitchCountNav.ts","resolved":"D:\\Dev\\cnc.community\\GitHub\\cnc.community\\src\\resources\\typescript\\twitch\\src\\Twitch\\GetStreamCount.ts"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar GetStreamCount_1 = require(\"./twitch/src/Twitch/GetStreamCount\");\n\nvar TwitchCountNav =\n/** @class */\nfunction () {\n  function TwitchCountNav() {\n    var twitch = new GetStreamCount_1.GetStreamCount(this.onComplete.bind(this));\n    twitch.get();\n\n    if (window[\"URLSearchParams\"] != null) {\n      var searchParam = new URLSearchParams(window.location.search);\n      var gameId = searchParam.get(\"game_id\");\n      this.markActive(gameId);\n    }\n  }\n\n  TwitchCountNav.prototype.markActive = function (gameId) {\n    var gameEl = document.getElementById(\"game-id-\" + gameId);\n\n    if (gameEl) {\n      gameEl.classList.add(\"active\");\n    }\n  };\n\n  TwitchCountNav.prototype.onComplete = function (counts) {\n    for (var gameId in counts) {\n      var gameEl = document.getElementById(\"game-id-\" + gameId);\n\n      if (gameEl == null) {\n        continue;\n      }\n\n      var count = gameEl.querySelector(\"span\");\n      var total = counts[gameId].length;\n      count.innerText = total;\n\n      if (total > 0) {\n        gameEl.classList.add(\"live\");\n      }\n    }\n  };\n\n  return TwitchCountNav;\n}();\n\nexports.TwitchCountNav = TwitchCountNav;\nnew TwitchCountNav();"},"sourceMaps":null,"error":null,"hash":"40fd85f72422b5c91ccd0aa277dfa463","cacheData":{"env":{}}}